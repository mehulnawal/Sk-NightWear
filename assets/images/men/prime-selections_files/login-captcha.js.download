function setCookie(name,value,hours){let date=new Date;date.setTime(date.getTime()+hours*60*60*1e3);let expires="expires="+date.toUTCString();document.cookie=name+"="+value+";"+expires+";path=/"}function create24HrCookie(name,value){getCaptchaLoginCookie(name)===null?setCookie(name,value,24):console.log(`Cookie "${name}" already exists.`)}function getCaptchaLoginCookie(name){let cookies=document.cookie.split(";");for(let i=0;i<cookies.length;i++){let cookie=cookies[i].trim();if(cookie.indexOf(name+"=")===0)return cookie.substring(name.length+1,cookie.length)}return null}function Toggle_CaptchaVerificationFields(ShowFields){const loginCaptcha=document.getElementById("loginCaptcha");ShowFields?loginCaptcha.classList.add("active"):loginCaptcha.classList.remove("active")}function checkLoginCounts(){const LoginCount=localStorage.loginOtpCount?parseInt(localStorage.loginOtpCount):null;LoginCount&&LoginCount>=3&&(setCookie("testingCap","true"),delete localStorage.loginOtpCount)}function generateCaptchaCode(){let uniquechar="",captcha=document.getElementById("captchaCode"),resendOTPcaptchaCode=document.getElementById("resendOTPcaptchaCode"),resendOTPCaptchaModal=document.querySelector("#resendOTPCaptcha.active");const randomchar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<6;i++)uniquechar+=randomchar.charAt(Math.floor(Math.random()*randomchar.length));captcha.value=uniquechar,resendOTPcaptchaCode.value=uniquechar}function verifyLogincaptcha(){const custloginModal=document.querySelector(".custlogin-modal"),phoneInput=document.querySelector("#mobile_code");let captchaContainer=document.querySelector("#loginCaptcha"),captchaUserInput=captchaContainer.querySelector("#captcha_submit"),captchaUserValue=captchaContainer.querySelector("#captcha_submit").value,captcha=captchaContainer.querySelector("#captchaCode"),captchaVerified=!1;const errorMsgContainer=captchaContainer.querySelector(".loginError#error-captchamsg"),loginCaptchaMatch=captchaContainer.querySelector("#loginCaptchaMatch"),mobileNumber=captchaContainer.querySelector("input#mobile_code");return errorMsgContainer.innerText="",loginCaptchaMatch.innerText="",captchaUserValue&&(captchaUserValue.length===6?captchaUserValue===captcha.value?(loginCaptchaMatch.innerText="Captcha Verified",captcha.dataset.valid="true",captchaVerified=!0):(captchaUserInput.value="",errorMsgContainer.innerText="Invalid Captcha"):captchaUserValue.length>6&&(captchaUserInput.value="")),phoneInput.dispatchEvent(new Event("input")),captcha.dataset.valid==="true"?!0:captchaVerified}function manageCaptcha(){const CaptchaCookieActive=!!getCaptchaLoginCookie("LoginCaptchaActivated");let button=document.querySelector(".otp-verification"),CaptchaVerified=!1,captchaContainer=document.querySelector("#loginCaptcha"),captchaUserValue=captchaContainer.querySelector("#captcha_submit").value,captcha=captchaContainer.querySelector("#captchaCode");if(CaptchaCookieActive){Toggle_CaptchaVerificationFields(!0);const userCaptcha=document.querySelector(".captcha_submit");(captcha.dataset.value==="true"||captchaUserValue===captcha.value)&&(CaptchaVerified=!0)}return CaptchaCookieActive&&!CaptchaVerified&&(button.disabled=!0,button.style.opacity="0.4"),{CaptchaCookieActive,CaptchaVerified}}function setandManageLoginCount(){if(getCaptchaLoginCookie("LoginCaptchaActivated"))return localStorage.removeItem("loginOtpCount"),!0;let loginCount=parseInt(localStorage.getItem("loginOtpCount"))||null;if(!loginCount)localStorage.setItem("loginOtpCount",1);else if(loginCount&&loginCount===3)return setCookie("LoginCaptchaActivated","true",24),delete localStorage.loginOtpCount,!0;return loginCount}function resetCaptchaValidation(){let captcha=document.getElementById("captchaCode"),userCaptchaText=document.getElementById("captcha_submit"),captchaErrorText=document.getElementById("error-captchamsg"),captchaVerifiedText=document.getElementById("loginCaptchaMatch");captcha.dataset.valid="false",captchaErrorText.innerText="",captchaVerifiedText.innerText="",userCaptchaText.value="",generateCaptchaCode()}window.addEventListener("DOMContentLoaded",x=>{resetCaptchaValidation(),resetResendOTPCaptchaValidation()});function verifyResendOTPCaptcha(){const verifyResendOTPButton=document.querySelector(".customBtn"),verifyResetOTPvalues=document.querySelectorAll(".otp-input");let captchaContainer=document.querySelector("#resendOTPCaptcha"),captchaUserInput=captchaContainer.querySelector("#resendOTPcaptcha_submit"),captchaUserValue=captchaContainer.querySelector("#resendOTPcaptcha_submit").value,captcha=captchaContainer.querySelector("#resendOTPcaptchaCode"),captchaVerified=!1;const errorMsgContainer=captchaContainer.querySelector("#resendOTPerror-captchamsg"),loginCaptchaMatch=captchaContainer.querySelector("#resendOTPloginCaptchaMatch");return errorMsgContainer.innerText="",loginCaptchaMatch.innerText="",captchaUserValue&&(captchaUserValue.length===6?captchaUserValue===captcha.value?(loginCaptchaMatch.innerText="Captcha Verified",captcha.dataset.valid="true",captchaVerified=!0):(captchaUserInput.value="",errorMsgContainer.innerText="Invalid Captcha"):captchaUserValue.length>6&&(captchaUserInput.value="")),verifyResetOTPvalues[0].dispatchEvent(new Event("input")),captcha.dataset.valid==="true"?!0:captchaVerified}function manageResendOTPCaptcha(){const CaptchaCookieActive=getCaptchaLoginCookie("LoginCaptchaActivated");let button=document.querySelector(".customBtn"),resendOTPbutton=document.getElementById("resend-otp-text");const resendOTPContainer=document.querySelector(".resend-otp");let resendSMS=document.querySelector(".otp-modal .sms"),whatsappSMS=document.querySelector(".otp-modal .what"),CaptchaVerified=!1,captchaContainer=document.querySelector("#resendOTPCaptcha"),captchaUserValue=captchaContainer.querySelector("#resendOTPcaptcha_submit").value,captcha=captchaContainer.querySelector("#resendOTPcaptchaCode");if(resendOTPContainer&&resendOTPContainer.classList.add("cursor-notallowed"),CaptchaCookieActive){Toggle_resendCaptchaVerificationFields(!0);const userCaptcha=document.querySelector(".resendOTPcaptcha_submit");(captcha.dataset.value==="true"||captchaUserValue===captcha.value)&&(CaptchaVerified=!0,resendOTPbutton.classList.add("active"),resendSMS.classList.remove("disabled"),whatsappSMS.classList.remove("disabled"),resendOTPContainer&&resendOTPContainer.classList.remove("cursor-notallowed"))}return CaptchaCookieActive&&!CaptchaVerified&&(button.disabled=!0,resendOTPbutton.classList.remove("active"),resendSMS.classList.add("disabled"),whatsappSMS.classList.add("disabled"),resendOTPContainer&&resendOTPContainer.classList.add("cursor-notallowed")),{CaptchaCookieActive,CaptchaVerified}}function Toggle_resendCaptchaVerificationFields(ShowFields){const loginCaptcha=document.getElementById("resendOTPCaptcha");ShowFields?loginCaptcha.classList.add("active"):loginCaptcha.classList.remove("active")}function resetResendOTPCaptchaValidation(){let captcha=document.getElementById("resendOTPcaptchaCode"),userCaptchaText=document.getElementById("resendOTPcaptcha_submit"),captchaErrorText=document.getElementById("resendOTPerror-captchamsg"),captchaVerifiedText=document.getElementById("resendOTPloginCaptchaMatch");captcha.dataset.valid="false",captchaErrorText.innerText="",captchaVerifiedText.innerText="",userCaptchaText.value="",generateCaptchaCode()}
//# sourceMappingURL=/cdn/shop/t/353/assets/login-captcha.js.map?v=28740473600767881651729574447
