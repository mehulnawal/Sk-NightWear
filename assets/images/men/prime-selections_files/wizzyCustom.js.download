window.onWizzyScriptLoaded=function(){window.wizzyConfig.search.configs.facets.leftFacets.defaultCollapsed=!0,window.wizzyConfig.search.configs.facets.leftFacets.firstLeftDefaultOpened=!1,replaceTemplate("wizzy-autocomplete-topproducts"),replaceTemplate("wizzy-search-results-product"),replaceTemplate("wizzy-search-results"),replaceTemplate("wizzy-search-wrapper"),replaceTemplate("wizzy-common-select"),replaceTemplate("wizzy-facet-item-common"),replaceTemplate("wizzy-progress"),replaceTemplate("wizzy-facet-block"),window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.AFTER_PRODUCTS_TRANSFORMED,function(payload){return payload.forEach(product=>{product.name=truncateString(product.name,57);var attributes=product.attributes;attributes.forEach(attribute=>{if(attribute.id=="product_style_number_custom"&&(product.product_style_number_custom=attribute.values[0].value[0]),attribute.id=="product_value_tags_front_end_tags"){var hasOneDayDelivery=attribute.values[0].value[0];hasOneDayDelivery=="1 day delivery"&&(product.hasOneDayDelivery=hasOneDayDelivery);var bestSeller=attribute.values[0].value[0];bestSeller=="Bestseller"&&(product.bestSeller=bestSeller)}if(attribute.id=="product_handle"){var productHandle=attribute.values[0].value[0];product.productHandle=productHandle}if(attr.id==="product_variant_ids"&&(product.singleVarientGroupId=product.id,product.id=attr.values[0].value[0]),attribute.id=="product_color_variant_custom"){var colors=JSON.parse(attribute.values[0].value[0]);product.colorCount=colors.length;let newColorLength=colors.length===0?1:colors.length;product.colorCountArray=[...Array(newColorLength).keys()].map(i=>i+1)}if(attribute.id=="product_tags"){let tags=attribute.values[0].value[0].split(",").map(item=>item.trim());product.mainImage.includes("placeholder")&&(tags.includes("Men")&&(product.isCustomImage=!0,product.mainImage="https://jockey-in.myshopify.com/cdn/shop/files/HG13_MNNVY_0105_S123_JKY_5_result_result.webp"),tags.includes("Women")&&(product.isCustomImage=!0,product.mainImage="https://jockey-in.myshopify.com/cdn/shop/files/1.jpg"),tags.includes("Juniors")&&(product.isCustomImage=!0,product.mainImage="https://jockey-in.myshopify.com/cdn/shop/files/UG05_BLKML_0105_S223_JKY_4_20d561cf-f7a1-4a15-8823-6b7816379b83.webp"))}})}),payload.forEach(product=>{product.attributes&&(product.multipackCombo=!1,product.packOfTwo=!1,product.multipackComboOfThree=!1,product.packOfThree=!1,product.attributes.forEach(attribute=>{attribute.id==="product_tags"&&(attribute.values[0].value[0].includes("Pack of 2")&&(product.packOfTwo=!0,attribute.values[0].value[0]&&attribute.values[0].value[0].includes("multipack_combo")&&attribute.values[0].value[0].includes("Pack of 2")&&(product.multipackCombo=!0,product.packOfTwo=!1)),attribute.values[0].value[0]&&attribute.values[0].value[0].includes("Pack of 3")&&!product.packOfTwo&&(product.packOfThree=!0,attribute.values[0].value[0]&&attribute.values[0].value[0].includes("multipack_combo")&&attribute.values[0].value[0].includes("Pack of 3")&&(product.multipackComboOfThree=!0,product.packOfThree=!1)))}))}),payload}),window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.BEFORE_INIT,function(payload){return window.innerWidth<=985?(payload.search.configs.general.formSubmissionBehaviour="replace_columns_on_same_page",payload.filters={configs:{keepOpenedInMobileAfterApply:!0,displayAsDrawer:!0,drawerPosition:"left"}},payload.common.lazyDOMConfig.searchInputIdentifiers=[{dom:".mobile-only .search-modal__form .search__input",type:"search"}]):(payload.common.lazyDOMConfig.searchInputIdentifiers=[{dom:".desktop-only .search-modal__form .search__input",type:"search"}],payload.filters={configs:{keepOpenedInMobileAfterApply:!0,displayAsDrawer:!0,drawerPosition:"left",keepOpenedInDesktopAfterApply:!0}}),window.wizzyConfig.search.configs.pagination.infiniteScrollOffset={desktop:1e3,mobile:2e3},payload.search.configs.facets.leftFacets.mobileCollapsible=!0,payload}),window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.VIEW_RENDERED,function(payload){try{const isDesktopView=window.innerWidth>768;return document.querySelectorAll(".cloneBtn").forEach(button=>{const productHandle=button.getAttribute("product-handle"),WizzyCartDiv=document.querySelector(".innervariant"),domId=button.getAttribute("id")+"-inner";let divId="wizzy-product-"+button.getAttribute("id");if(productHandle){const newurl=`${window.location.origin}/products/${productHandle}?view=atbproductdata`;fetch(newurl).then(response=>{if(response.status!==200)throw new Error("Network response was not ok");return response.text()}).then(data=>{var newDiv=document.createElement("div");newDiv.innerHTML=data,document.getElementById(`${divId}`)&&document.getElementById(`${divId}`).appendChild(newDiv)}).catch(error=>{})}}),window.ReloadSmartWishlist(),$(".wizzy-facet-range-slider").each(function(index,item){var element=$(this)[0];element.noUiSlider.updateOptions({margin:250})}),payload}catch{return payload}}),window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.PRODUCTS_CACHED_RESULTS_RENDERED,function(payload){return $(".wizzy-facet-range-slider").each(function(index,item){var element=$(this)[0];element.noUiSlider.updateOptions({margin:250})}),payload});try{window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.BEFORE_RENDER_RESULTS,function(payload){var facets=payload.response.payload.facets;for(let i in facets){var facet=facets[i];facet.key!=="sellingPrice"?facet.data.forEach((item,index)=>{if(window.wizzyMetafields.hasOwnProperty(facet.key.toLowerCase())){let itemKey=item.key.trim();facet.isModified=!0,itemKey==="Heritage"&&(itemKey="Heritage Collection"),itemKey.replace(/\s/g,"")==="MediumPadded"&&(itemKey="Medium Padded"),itemKey.replace(/\s/g,"")==="LightlyPadded"&&(itemKey="Lightly Padded"),itemKey==="Underwired"&&(itemKey="Under-wired"),itemKey==="Wirefree"&&(itemKey="Wire-free"),window.wizzyMetafields[facet.key.toLowerCase()][itemKey]&&(item.swatchValue="https:"+window.wizzyMetafields[facet.key.toLowerCase()][itemKey])}if(facet.key==="product_colour_family_custom"&&window.wizzyMetafields.hasOwnProperty("product_filter_colour_custom")){let itemKey=item.key.trim();window.wizzyMetafields.product_filter_colour_custom[itemKey]&&(item.swatchValue="https:"+window.wizzyMetafields.product_filter_colour_custom[itemKey])}(facet.key==="colors"||facet.key==="product_style_number_custom"||facet.key==="product_straps_filter_custom"||facet.key==="product_closure_filter_custom"||facet.key==="product_waist_rise_custom"||facet.key==="product_pack_multipacks_Filter_custom"||facet.key==="product_fabric_custom")&&(facet.key==="colors"?item.data={swatch:{value:`https://jockey-in.myshopify.com/cdn/shop/files/filter-value-image-${modifyString(item.label).toLocaleLowerCase()}.webp`}}:facet.key==="product_pack_multipacks_Filter_custom"?facets[i].data[index].swatchValue="https://jockey-in.myshopify.com/cdn/shop/files/filter-value-image-pack-of-6.webp?v=10921026930062640328":facets[i].data[index].swatchValue=`https://jockey-in.myshopify.com/cdn/shop/files/filter-value-image-${modifyString(item.label).toLocaleLowerCase().replace(/&/g,"n")}.webp`)}):window.wizzyMaxSellingPrice=facet.data.max,facet.order=["sizes","sellingPrice","product_filter_colour_custom","product__bra_front_coverage_filter_custom","product_rear_coverage_Filter_custom","product_top_rear_coverage_filter_custom","product_straps_filter_custom","product_back_style_filter_custom",,"product_bra_wiring_filter_custom","product_waist_rise_custom","product_closure_filter_custom","product_pack_multipacks_Filter_custom","product_bra_padding_filter_custom","product_fabric_custom","product_jockey_collection_custom"].indexOf(facet.key),Array.isArray(facet.data)&&facet.data.sort((a,b)=>a.label.localeCompare(b.label))}return payload.response.payload.facets=facets,payload})}catch(error){console.log(error,"this is error from 02-01-2024")}window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.BEFORE_SEARCH_EXECUTED,function(payload){return payload.attributeFacetValuesLimit=50,payload}),window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.BEFORE_FILTERS_EXECUTED,function(payload){return payload.filters.attributeFacetValuesLimit=50,payload}),window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.PRODUCTS_RESULTS_RENDERED,function(payload){try{const wizzyResultProduct=document.querySelectorAll(".wizzy-result-product");if(window.wizzyMaxSellingPrice<999){let eles=document.getElementsByClassName("priceTab-999");for(let i=0;i<eles.length;i++)eles[i].style.display="none"}if(window.wizzyMaxSellingPrice<799){let eles=document.getElementsByClassName("priceTab-799");for(let i=0;i<eles.length;i++)eles[i].style.display="none"}if(window.wizzyMaxSellingPrice<499){let eles=document.getElementsByClassName("priceTab-499");for(let i=0;i<eles.length;i++)eles[i].style.display="none"}if(window.wizzyMaxSellingPrice<399){let eles=document.getElementsByClassName("priceTab-399");for(let i=0;i<eles.length;i++)eles[i].style.display="none"}if(wizzyResultProduct.length===1){document.getElementsByTagName("body")[0].classList.add("wizzy-single-product-rendered");const wizzySelectedFacetList=document.querySelector(".wizzy-selected-facet-list");wizzySelectedFacetList.style.marginTop="40px";const ul=document.querySelector(".wizzy-search-results #product-grid");ul.style.justifyContent="center"}else document.getElementsByTagName("body")[0].classList.remove("wizzy-single-product-rendered");if(document.querySelectorAll(".wizzy-selected-facet-list li").length){document.querySelector(".wizzy-selected-filter-count")?.remove();var targetElement=document.querySelector(".wizzy-filter-desk-text"),newElement=document.createElement("span");newElement.classList.add("wizzy-selected-filter-count"),newElement.textContent=`${document.querySelectorAll(".wizzy-selected-facet-list li").length}`,targetElement.parentNode.insertBefore(newElement,targetElement.nextSibling)}return window.innerWidth>=800&&document.querySelector(".wizzy-common-select-selector").addEventListener("click",function(){document.querySelector(".wizzy-filters-bg").style.display="none"}),payload}catch(e){console.log(e)}});function appendData(domId,data){document.getElementById(domId)&&(document.getElementById(domId).outerHTML=data)}window.wizzyConfig.events.registerEvent(window.wizzyConfig.events.allowedEvents.VIEW_RENDERED,function(payload){return payload})};const replaceTemplate=div=>{let newDiv=document.getElementById(div+"-new").text,oldDiv=document.getElementById(div);oldDiv.text=newDiv};var searchIcon=document.querySelector(".modal__toggle-open.icon.icon-search");searchIcon&&searchIcon.addEventListener("click",function(){setTimeout(function(){var searchbar=document.querySelector("#Search-In-Modal.search__input.field__input");searchbar&&(searchbar.focus(),searchbar.click())},500)});function executeWhenjQueryDefined(){typeof jQuery<"u"&&(clearInterval(checkjQueryInterval),$("body").on("click",".wizzy-filters-apply",function(e){e.preventDefault(),$("body, html").removeClass("wizzy-overlay-opened wizzy-filters-overlay"),$(".wizzy-filters-bg").click()}),$("body").on("click",".modal__toggle-open.icon.icon-search",function(){setTimeout(function(){$("#Search-In-Modal").focus(),$("#Search-In-Modal").click()},100)}),$("body").on("click",".wizzy-filters-clear-all-new",function(){$(".wizzy-filters-bg").click()}),$("body").on("click",".wizzy-autocomplete-suggestions a.wizzy-recent-search-clear-all",function(){$(".wizzy-search-input").get(1).click()}),$("body").on("click",".priceTab-wizzy img",function(e){let lteset=$(e.target).attr("alt"),url=new URL(window.location.href);url.searchParams.set("sellingPrice_lte[]",lteset),window.location.href=url.toString()}))}const checkjQueryInterval=setInterval(executeWhenjQueryDefined,100);document.addEventListener("click",handleFilterBackgroundClick),document.addEventListener("touchend",handleFilterBackgroundClick);function handleFilterBackgroundClick(event){window.innerWidth<768&&event.target.classList.contains("wizzy-filters-bg")&&(document.documentElement.classList.remove("wizzy-overlay-opened"),document.body.classList.remove("wizzy-filters-overlay"),document.documentElement.classList.remove("wizzy-filters-overlay"),document.body.classList.remove("wizzy-overlay-opened"))}function truncateString(str,maxLength){return str.length>maxLength?str.slice(0,maxLength)+"...":str}function modifyString(inputString){return inputString.startsWith("#")&&(inputString=inputString.slice(1)),inputString=inputString.replace(/ /g,"-"),inputString=inputString.replace(/%/g,"_25"),inputString}var observer3=new MutationObserver(function(mutations){mutations.forEach(function(mutationRecord){mutationRecord.target.classList.contains("active")&&document.getElementsByClassName("wizzy-autocomplete-wrapper")[0]&&(document.getElementsByClassName("wizzy-autocomplete-wrapper")[0].style.display="none")})}),target3=document.getElementsByClassName("product-atb-modal")[0];observer3.observe(target3,{attributes:!0,attributeFilter:["class"]});function modifyAttributeOrder(arr,order){const modifiedArr=[];for(let i=0;i<order.length;i++){const attribute=order[i],index=arr.findIndex(obj=>obj.label===attribute);index!==-1&&(modifiedArr.push(arr[index]),arr.splice(index,1))}return modifiedArr}
//# sourceMappingURL=/cdn/shop/t/353/assets/wizzyCustom.js.map?v=33845334905235517521737026222
