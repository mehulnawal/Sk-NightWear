function checkIfCartIsEmpty(variantID,productID,wishlistRemoveVarId){let cartItems=document.querySelectorAll('.custom-cart-item[data-id="custom-cart-item"]');cartItems.length>0?checkVariantInCart(variantID,cartItems,productID,wishlistRemoveVarId):variantNotFoundInCart(variantID,productID,wishlistRemoveVarId)}function checkVariantInCart(variantID,cartItems,productID,wishlistRemoveVarId){let variantFoundInCart=null;cartItems.forEach(item=>{item.getAttribute("cart-variant-id")==variantID&&(variantFoundInCart=item)}),variantFoundInCart?getVariantStatus(variantFoundInCart,productID,variantID,wishlistRemoveVarId):variantNotFoundInCart(variantID,productID,wishlistRemoveVarId)}function getVariantStatus(variantFoundInCart,productID,variantID,wishlistRemoveVarId){let currentVariantQty=Number(variantFoundInCart.getAttribute("cart-qty")),inventoryQty=Number(variantFoundInCart.getAttribute("cart-variant-inventory")),cartKey=variantFoundInCart.getAttribute("cart-variant-key");currentVariantQty+1<=inventoryQty&&currentVariantQty+1<=10?updateVariantInCart(cartKey,currentVariantQty+1,productID,variantID,wishlistRemoveVarId):wishMaxQuantityMsg()}function updateVariantInCart(cartKey,newQty,productID,variantID,wishlistRemoveVarId){fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:cartKey,quantity:newQty})}).then(resp=>resp.json()).then(data=>{console.log(data,"data"),removeProduct(productID,wishlistRemoveVarId),updateCart(),addToCartGTMEvent(data),showUpdateMsg(),screen.width>768&&setTimeout(()=>{showCartRecommendations()},"3000")})}function variantNotFoundInCart(variantID,productID,wishlistRemoveVarId){var data={items:[{quantity:1,id:variantID}]};fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)}).then(response=>response.json()).then(data2=>{removeProduct(productID,wishlistRemoveVarId),updateCart(),addToCartGTMEvent(data2),showUpdateMsg()}).catch(error=>{console.error("Error:",error)})}function wishMaxQuantityMsg(){let msgDiv=document.querySelector(".product-addedNotification"),msg=msgDiv.querySelector(".product-addedNotification .notification-tag");msg.innerText="The max quantity of product is already in your bag.",msgDiv.style.display="flex",msgDiv.style.zIndex="5",setTimeout(wishRemoveMsg,2e3)}function showUpdateMsg(){let msgDiv=document.querySelector(".product-addedNotification"),msg=msgDiv.querySelector(".product-addedNotification .notification-tag");msg.innerText="The product is added in your bag.",msgDiv.style.display="flex",msgDiv.style.zIndex="5",setTimeout(wishRemoveMsg,2e3)}function wishRemoveMsg(){let msgDiv=document.querySelector(".product-addedNotification");msgDiv.style.display="none"}
//# sourceMappingURL=/cdn/shop/t/353/assets/wishlist-page-atc.js.map?v=14212996897806519701736424848
